# Cache Simulator

A trace-driven cache simulator implementing a direct-mapped write-back cache hierarchy with configurable L1, L2, and L3 caches.

## Features

- Supports up to 3-level cache hierarchy
- Configurable cache and line sizes
- Direct-mapped architecture with write-back policy
- Separate instruction and data cache simulation
- Detailed performance metrics including:
  - Hit/Miss rates
  - Average Memory Access Time (AMAT)
  - Read-to-Write and Write-to-Write ratios

## Building

### Prerequisites
- GCC compiler
- Make build system
- Bash shell (for running tests)

### Build Commands
```bash
# Standard build with optimizations
make

# Debug build with debug symbols
make debug

# Build with Address Sanitizer
make asan

# Generate documentation
make docs
```

## Usage

```bash
./cache_exec <cache_type> <line_size> <cache_layers> <L1_size> <L2_size> <L3_size> <print_style>
```

### Parameters
- `cache_type`: Cache type to simulate (I=Instruction, D=Data, U=Unified)
- `line_size`: Size of cache line in words (1 word = 4 bytes)
- `cache_layers`: Number of cache layers (1-3)
- `L1_size`: L1 cache size in KB
- `L2_size`: L2 cache size in KB (0 if unused)
- `L3_size`: L3 cache size in KB (0 if unused)
- `print_style`: Output format (1=Basic, 2=Detailed)

### Example
```bash
# Single layer 8KB L1 cache with 4-word lines
./cache_exec U 4 1 8 0 0 1 < traces/126.gcc

# Three layer cache hierarchy with detailed output
./cache_exec D 8 3 16 64 256 2 < traces/132.ijpeg
```

## Testing

Run the full test suite:
```bash
make test
```

This will execute various cache configurations using the provided trace files.

## Architecture

The simulator implements a direct-mapped cache with the following features:
- Write-back policy for handling writes
- 32-bit addressing
- Configurable tag, index, and offset bits based on cache parameters
- Support for both unified and split I/D caches

## Performance

Memory access times are modeled as follows:
- L1 Cache: 1 cycle
- L2 Cache: 16 cycles
- L3 Cache: 64 cycles
- Main Memory: 100 cycles

AMAT (Average Memory Access Time) is calculated based on hit rates at each level.

## License

[Specify your license here]

## Author

Tyler Neal